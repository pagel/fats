$(document).ready(function(){var e=$(".progress-bar"),f=$(".progress-percent"),h=$(".file-upload-container"),g=$("#file-upload-form input[type=file]"),d=$(".notification-container p");$("#file-upload-form").ajaxForm({beforeSubmit:function(){if(""==g.val())return alert("You must select a file to continue."),!1},beforeSend:function(){$("#file-upload-form input").hide();$("div.progress").show()},uploadProgress:function(a,j,c,b){a=b+"%";e.width(a);f.html(a)},complete:function(a){!0==$.parseJSON(a.responseText).result?
    $(d).html("File uploaded successfully."):$(d).html("File upload failed.");$(h).hide().dialog("close");$(d).show();a=$(".selected").parent().attr("data-id");a=$.ajax({async:!1,type:"GET",dataType:"json",url:"webservice.php/documents/"+a,timeout:1E4,cache:!1});a.done(function(a){var c="";if(null!==a.result)for(var b=0;b<a.result.length;b++)c+='<tr><td><input type="checkbox" id="'+a.result[b].id+'" /></td><td>'+a.result[b].file_name+"</td><td>"+a.result[b].mimetype+"</td><td>"+a.result[b].file_size+
    "</td></tr>";else c='<tr><td colspan="4">No documents exist in this folder.</td></tr>';$("table tbody").html(c);$(e).removeAttr("style");$(f).val("0%");$("div.progress").hide();$("#file-upload-form input").show();$(g).val("")});a.fail(function(){$(d).removeClass("hidden").html("The system was unable to retrieve the document(s) in the specified folder.")})}})});